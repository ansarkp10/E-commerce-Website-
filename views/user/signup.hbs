<section>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <!-- Logo Image -->
        <div class="text-center mb-4">
          <img src="/images/logo.png" alt="Logo" class="img-fluid" style="max-width: 150px;">
        </div>

        <!-- Signup Form -->
        <div class="card shadow-lg p-4">
          <h2 class="text-center mb-4">Create New Account</h2>
          {{#if emailError}}
            <div class="alert alert-danger">{{emailError}}</div>
          {{/if}}
          <form id="signupForm" action="/signup" method="POST" enctype="multipart/form-data">
            <div class="form-group">
              <label>Name</label>
              <input type="text" class="form-control" name="Name" placeholder="Enter Name" required>
            </div>
            <div class="form-group">
              <label>Email Address</label>
              <input type="email" class="form-control" name="Email" placeholder="Enter Email" required>
            </div>
            <div class="form-group">
              <label>Password</label>
              <div class="input-group">
                <input type="password" class="form-control" name="Password" id="password" placeholder="Enter Password" required>
                <div class="input-group-append">
                  <span class="input-group-text toggle-password" onclick="togglePasswordVisibility('password')">
                    <i class="fas fa-eye"></i>
                  </span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label>Confirm Password</label>
              <div class="input-group">
                <input type="password" class="form-control" name="ConfirmPassword" id="confirmPassword" placeholder="Confirm Password" required>
                <div class="input-group-append">
                  <span class="input-group-text toggle-password" onclick="togglePasswordVisibility('confirmPassword')">
                    <i class="fas fa-eye"></i>
                  </span>
                </div>
              </div>
              <small id="passwordError" class="text-danger d-none">Passwords do not match</small>
            </div>
            <div class="form-group">
              <label>Profile Photo</label>
              <input type="file" class="form-control" name="profilePhoto" accept="image/*" required style="height:50px;">
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <a href="/login">Already have an account?</a>
              <button type="submit" class="btn btn-primary">Signup</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>



<script>
  document.getElementById('signupForm').addEventListener('submit', function(event) {
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    const passwordError = document.getElementById('passwordError');

    // Check if passwords match
    if (password !== confirmPassword) {
      event.preventDefault(); // Prevent form submission
      passwordError.classList.remove('d-none'); // Show error message
    } else {
      passwordError.classList.add('d-none'); // Hide error message
    }
  });

  // Toggle password visibility function
function togglePasswordVisibility(inputId) {
    const passwordInput = document.getElementById(inputId);
    const icon = passwordInput.nextElementSibling.querySelector('i');

    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
    } else {
        passwordInput.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
    }
}

</script>

<style>
  /* Styles for the toggle password visibility icon inside the input */
.input-group-text {
    cursor: pointer;
    background-color: #fff;
    border-left: none;
}

.input-group .form-control {
    border-right: none;
}

  /* Container Styles */
section {
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: #ccc7bf;
    background-size: 400% 400%;
    animation: gradientShift 10s ease infinite;
    padding: 20px;
}

.container {
    max-width: 100%;
}

.card {
    border-radius: 10px;
    background: #fff;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    animation: slideUp 0.6s ease-out;
    transform: translateY(30px);
    opacity: 0;
    animation-fill-mode: forwards;
}

.card:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

h2 {
    color: #388E3C;
    animation: fadeIn 1s ease-in-out forwards;
    transform: translateY(-10px);
    opacity: 0;
}

.form-group label {
    font-weight: bold;
    color: #555;
}

.form-control {
    background-color: #f9f9f9;
    border: 2px solid #ddd;
    border-radius: 4px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.form-control:focus {
    border-color: #4CAF50;
    box-shadow: 0px 0px 8px rgba(76, 175, 80, 0.4);
    outline: none;
    transform: scale(1.02);
}

.btn-primary {
    background: #4CAF50;
    border: none;
    transition: background 0.4s ease, transform 0.3s ease;
}

.btn-primary:hover {
    background: #388E3C;
    transform: translateY(-2px);
}

a {
    color: #388E3C;
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: #4CAF50;
    text-decoration: underline;
}

/* Logo Animation */
.img-fluid {
    animation: zoomIn 1.2s ease forwards;
    transform: scale(0.8);
    opacity: 0;
    animation-delay: 0.3s;
    animation-fill-mode: forwards;
}

/* Animations */
@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

@keyframes slideUp {
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fadeIn {
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes zoomIn {
    to {
        transform: scale(1);
        opacity: 1;
    }
}

</style>